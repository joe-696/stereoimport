<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="En Stereo Importaciones encontrarás los mejores celulares de marcas reconocidas como iPhone, Motorola, Redmi, Xiaomi, Oppo, Pixel y más. Calidad garantizada y precios increíbles. ¡Descúbrelo ahora en Stereo Importaciones!">
    <meta name="keywords" content="Stereo Importaciones, celulares, iPhone, Motorola, Redmi, Xiaomi, Oppo, Pixel, teléfonos inteligentes, smartphones, comprar celulares, laptops, tecnología">
    <meta name="author" content="Stereo Importaciones SAC">

    <!-- Preconnect para mejorar el rendimiento -->
    <link rel="preconnect" href="https://www.gstatic.com">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">

    <!-- Favicon -->
    <link rel="icon" href="https://cellmarket-sac.web.app/favicon.ico" type="image/x-icon">

    <title>Stereo Importaciones - Venta de Celulares de las Mejores Marcas</title>

    <!-- Iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-O+IT6IXFbqv7+TQ1rNqpAUuaNCWyBO6UVBd8i4OhS9nF6VfT8GNdTu5/c1LsiBfFl8J7LblrBYHY/u3XfHOo9w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <style>
    :root {
        --color-fondo: #f0f4f8;
        --color-blanco: #ffffff;
        --color-gris-claro: #e0e0e0;
        --color-gris: #333333;
        --color-gris-oscuro: #555555;
        --color-primario: #1e90ff; /* Azul Dodger */
        --color-secundario: #ff6b81; /* Rosa Coral */
        --color-texto: #333333;
        --color-texto-claro: #ffffff;
        --color-hover: #ff9800; /* Naranja */
        --fuente-principal: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    }

    html {
        scroll-behavior: smooth;
    }

    body {
        margin: 0;
        font-family: var(--fuente-principal);
        background: var(--color-fondo);
        color: var(--color-texto);
    }

    .container {
        max-width: 1200px; 
        margin: 0 auto; 
        padding: 0 1rem;
    }

    header {
        position: fixed; 
        top: 0; 
        width: 100%; 
        z-index: 1000;
        background: linear-gradient(45deg, #1e3c72, #2a5298); /* Azul más profundo */
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    }

    .header-content {
        display: flex; 
        align-items: center; 
        justify-content: space-between;
        padding: 1rem 2rem;
    }

    .logo img {
        height: 55px;
        user-select: none;
    }

    nav {
        display: flex; 
        gap: 1.5rem;
    }

    nav a {
        color: var(--color-blanco); 
        text-decoration: none; 
        display: inline-flex; 
        align-items: center; 
        gap: 0.3rem; 
        font-size: 0.95rem; 
        transition: color 0.2s ease;
        user-select: none;
    }

    nav a:hover {
        color: var(--color-hover);
    }

    .cart-button {
        cursor: pointer; 
        background: var(--color-secundario); 
        padding: 0.6rem 1rem; 
        border: none;
        border-radius: 50px; 
        display: flex; 
        align-items: center; 
        gap: 0.5rem; 
        transition: background 0.2s ease; 
        font-size: 0.9rem; 
        color: var(--color-texto-claro);
        user-select: none;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* Cambio del icono del carrito a Bootstrap Icons */
    .cart-button i {
        font-size: 1.2rem; /* Aumenta el tamaño del icono */
    }

    .cart-button:hover {
        background: #e0356f; 
    }

    .banner {
        position: relative; 
        height: 300px; 
        margin-top: 80px; 
        margin-bottom: 2rem; 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        color: var(--color-texto-claro); 
        overflow: hidden; 
        text-shadow: 0px 0px 5px rgba(0,0,0,0.7);
    }

    .banner .banner-image-container {
        position: absolute; 
        top: 0; 
        left: 0; 
        width: 100%; 
        height: 100%; 
        z-index: -1;
    }

    .banner .banner-image-container img {
        position: absolute; 
        width: 100%; 
        height: 100%; 
        object-fit: cover; 
        opacity: 0; 
        transition: opacity 1s ease;
        loading: lazy;
    }

    .banner .banner-image-container img.active {
        opacity: 1;
    }

    /* Animación de escritura para "Grandes ofertas, pequeños precios" */
    .banner h4 {
        font-size: 2rem; 
        margin: 0; 
        text-align: center; 
        z-index: 1;
        background: rgba(0,0,0,0.4); 
        padding: 0.5rem 1rem; 
        border-radius: 5px;
        user-select: none;
        overflow: hidden;
        white-space: nowrap;
        border-right: 4px solid var(--color-texto-claro);
        width: 0;
        animation: typing 4s steps(40, end) forwards, blink-caret .75s step-end infinite;
    }

    @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
    }

    @keyframes blink-caret {
        from, to { border-color: transparent; }
        50% { border-color: var(--color-texto-claro); }
    }

    .filters {
        display: flex; 
        flex-wrap: wrap; 
        align-items: center; 
        justify-content: center;
        padding: 1rem; 
        gap: 1rem; 
        background: var(--color-blanco); 
        border-bottom: 1px solid #ccc;
        position: sticky; 
        top: 80px; 
        z-index: 999;
    }

    /* Mejora estética del buscador y filtrado */
    .filters input, .filters select {
        padding: 0.75rem 1rem; 
        font-size: 1rem; 
        border-radius: 8px; 
        border: 1px solid #ccc;
        outline: none;
        transition: border-color 0.3s, box-shadow 0.3s;
        width: 250px;
    }

    .filters input:focus, .filters select:focus {
        border-color: var(--color-primario); 
        box-shadow: 0 0 5px rgba(30, 144, 255, 0.5);
    }

    .filters input::placeholder {
        color: #999;
    }

    .description-section {
        background: var(--color-blanco); 
        padding: 2rem 1rem;
        border-top: 1px solid #ccc; 
        border-bottom: 1px solid #ccc; 
        text-align: center;
    }

    .description-section p {
        max-width: 600px; 
        margin: 0 auto; 
        font-size: 1rem; 
        line-height: 1.6;
        color: var(--color-gris-oscuro); 
        user-select: none;
    }

    .location-section {
        background: var(--color-blanco); 
        padding: 2rem 1rem;
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        gap: 1rem; 
        border-bottom: 1px solid #ccc;
    }

    .location-info {
        display: flex; 
        align-items: center; 
        gap: 0.5rem; 
        font-size: 1rem; 
        color: var(--color-texto); 
        justify-content: center;
    }

    .location-info i {
        color: var(--color-primario);
        font-size: 1.5rem;
    }

    .products {
        display: grid; 
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); 
        gap: 1.5rem; 
        padding: 2rem 0;
    }

    .product {
        border: 1px solid #ddd; 
        border-radius: 8px; 
        text-align: center; 
        padding: 1rem; 
        background: var(--color-blanco);
        display: flex; 
        flex-direction: column; 
        justify-content: space-between; 
        transition: box-shadow 0.3s ease, transform 0.3s ease; 
        cursor: pointer;
    }

    .product:hover {
        box-shadow: 0 4px 15px rgba(0,0,0,0.2); 
        transform: translateY(-5px);
    }

    .product img {
        max-width: 100%; 
        max-height: 150px; 
        object-fit: cover; 
        margin-bottom: 0.5rem; 
        border-radius: 4px;
        user-select: none;
        loading: lazy;
    }

    .product h3 {
        font-size: 1rem; 
        margin: 0.5rem 0;
        user-select: none;
    }

    .product .details {
        font-size: 0.85rem; 
        color: #666; 
        margin-bottom: 0.5rem; 
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 3; 
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .price-container {
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        margin: 0.5rem 0;
    }

    .original-price {
        text-decoration: line-through; 
        color: #999; 
        margin-bottom: 0.25rem; 
        font-size: 0.9rem;
        user-select: none;
    }

    .promotional-price {
        color: red; 
        font-weight: bold; 
        font-size: 1.1rem;
        user-select: none;
    }

    .no-promo-price {
        margin: 0.5rem 0; 
        font-weight: bold; 
        font-size: 1rem;
        user-select: none;
    }

    .add-to-cart-btn {
        padding: 0.5rem 1rem; 
        background: var(--color-primario); 
        color: var(--color-texto-claro); 
        border: none; 
        border-radius: 50px; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        gap: 0.5rem; 
        transition: background 0.2s ease;
        user-select: none;
    }

    .add-to-cart-btn:hover {
        background: var(--color-hover);
    }

    .product.skeleton { 
        animation: skeleton-loading 1.5s linear infinite alternate; 
        background: var(--color-gris-claro); 
    }

    .skeleton-image, .skeleton-button, .skeleton-text { 
        background: #ddd; 
        border-radius: 4px; 
    }

    .skeleton-image { 
        height: 150px; 
        margin-bottom: 0.5rem; 
    }

    .skeleton-text { 
        height: 15px; 
        margin-bottom: 0.5rem; 
    }

    .skeleton-text.med { width: 70%; }

    .skeleton-button { 
        width: 60%; 
        height: 30px; 
        margin: 0.5rem auto 0; 
        border-radius: 50px; 
    }

    @keyframes skeleton-loading {
        0% { background-color: #ddd; }
        100% { background-color: #e0e0e0; }
    }

    .product-modal-overlay {
        position: fixed; 
        top:0; 
        left:0; 
        width:100%; 
        height:100vh; 
        background: rgba(0,0,0,0.5);
        display: none; 
        justify-content:center; 
        align-items:center; 
        z-index:2000;
    }

    .product-modal-overlay.open { display: flex; }

    .product-modal {
        background: var(--color-blanco); 
        border-radius: 8px; 
        max-width: 600px; 
        width: 90%; 
        padding: 2rem; 
        display: flex; 
        flex-direction: column; 
        align-items: center;
        position: relative;
        max-height: 80vh; 
        overflow: hidden; 
    }

    .product-modal img {
        max-width: 200px; 
        max-height: 200px; 
        object-fit: cover; 
        margin-bottom: 1rem; 
        border-radius:4px; 
        user-select: none;
    }

    .product-modal h2 {
        margin: 0.5rem 0; 
        font-size: 1.5rem; 
        text-align: center;
        user-select: none;
    }

    .modal-details {
        font-size: 0.9rem; 
        color: #666; 
        margin: 1rem 0; 
        text-align:left; 
        width:100%; 
        line-height:1.5;
        max-height: 40vh;
        overflow-y: auto;
        padding-right: 10px; 
    }

    .modal-details ul {
        list-style: disc; 
        padding-left:20px; 
    }

    .modal-details ul li { margin-bottom:0.5rem; }

    .modal-price { 
        font-weight: bold; 
        font-size: 1.2rem; 
        margin: 1rem 0; 
        text-align:center; 
        width:100%;
        user-select: none;
    }

    .product-modal button {
        padding: 0.5rem 1rem; 
        background: var(--color-primario); 
        color: var(--color-texto-claro); 
        border: none; 
        border-radius: 50px; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        gap: 0.5rem; 
        transition: background 0.2s ease;
        user-select: none;
    }

    .product-modal button:hover { 
        background: var(--color-hover); 
    }

    .close-product-modal {
        position: absolute; 
        top: 1rem; 
        right:1rem; 
        background: none; 
        border:none; 
        font-size:1.5rem; 
        cursor: pointer; 
        color: var(--color-texto);
        user-select: none;
    }

    .close-product-modal:hover { 
        color:#666; 
    }

    .cart-modal {
        position: fixed; 
        top: 0; 
        right: 0; 
        width: 320px; 
        height: 100vh; 
        background: var(--color-blanco);
        box-shadow: -2px 0 10px rgba(0,0,0,0.1); 
        transform: translateX(100%); 
        transition: transform 0.3s ease; 
        display: flex; 
        flex-direction: column; 
        z-index: 1000;
    }

    .cart-modal.open { transform: translateX(0); }

    .cart-modal-header {
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        padding: 1rem; 
        background: var(--color-primario); 
        color: var(--color-texto-claro);
        user-select: none;
    }

    .cart-modal-header h2 { margin: 0; font-size: 1.2rem; }

    .close-cart { 
        background: none; 
        border: none; 
        color: var(--color-texto-claro); 
        font-weight: bold; 
        font-size: 1.5rem; 
        cursor: pointer; 
        user-select: none;
    }

    .close-cart:hover { 
        color: var(--color-hover); 
    }

    .cart-items { 
        flex: 1; 
        overflow-y: auto; 
        padding: 1rem; 
    }

    .cart-item {
        display: flex; 
        align-items: center; 
        margin-bottom: 1rem; 
        justify-content: space-between;
        user-select: none;
    }

    .cart-item img {
        width: 50px; 
        height: 50px; 
        object-fit: cover; 
        margin-right: 1rem; 
        border-radius: 4px;
        user-select: none;
    }

    .cart-item-info { 
        display: flex; 
        flex-direction: column; 
        flex:1;
    }

    .cart-item p { 
        margin: 0; 
        font-size: 0.9rem; 
    }

    .remove-item {
        background: none; 
        border: none; 
        font-size: 1.2rem; 
        color: var(--color-gris); 
        cursor: pointer; 
        user-select: none;
    }

    .remove-item:hover { 
        color: red; 
    }

    .cart-footer {
        padding: 1rem; 
        border-top: 1px solid #ccc;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    .cart-footer .total {
        font-weight: bold;
        font-size: 1.1rem;
        text-align: right;
    }

    .cart-footer button {
        width: 100%; 
        padding: 0.5rem; 
        background: var(--color-primario); 
        color: var(--color-texto-claro);
        border: none; 
        border-radius: 50px; 
        cursor: pointer; 
        display:flex; 
        align-items:center; 
        justify-content:center; 
        gap:0.5rem; 
        transition: background 0.2s ease;
        user-select: none;
    }

    .cart-footer button:hover { 
        background: var(--color-hover); 
    }

    .toast {
        position: fixed; 
        bottom: 20px; 
        right: 20px; 
        background: var(--color-gris); 
        color: var(--color-texto-claro);
        padding: 0.75rem 1rem; 
        border-radius: 4px; 
        opacity: 0; 
        transition: opacity 0.3s ease; 
        z-index: 3000; 
        font-size: 0.9rem;
    }

    .toast.show { 
        opacity: 1; 
    }

    .flying-img {
        position: fixed; 
        width: 50px; 
        height: 50px; 
        object-fit: cover; 
        border-radius: 4px; 
        z-index: 2000;
        transition: transform 1s ease-in-out, opacity 1s ease-in-out; 
        pointer-events: none;
    }

    .contact-section {
        background: var(--color-blanco); 
        padding: 2rem 1rem; 
        border-top: 1px solid #ccc;
        user-select: none;
    }

    .contact-section h2 {
        text-align: center; 
        margin-bottom: 1rem; 
        font-size: 1.8rem; 
        color: var(--color-texto);
    }

    .contact-info {
        display: flex; 
        justify-content: center; 
        gap: 1rem; 
        max-width: 400px; 
        margin: 0 auto;
    }

    .icon-circle {
        display: inline-flex; 
        justify-content: center; 
        align-items: center;
        width: 50px; 
        height: 50px; 
        border-radius: 50%; 
        color: #fff; 
        font-size: 1.5rem; 
        transition: transform 0.3s, background-color 0.3s;
        user-select: none;
    }

    .icon-circle:hover { 
        transform: scale(1.1); 
    }

    .icon-circle.tiktok { background-color: #222222; }
    .icon-circle.whatsapp { background-color: #25D366; } /* Color oficial de WhatsApp */
    .icon-circle.facebook { background-color: #3b5998; }
    .icon-circle.instagram { background-color: #C13584; } /* Añadido Instagram */

    .contact-section p {
        text-align: center; 
        font-size:0.9rem; 
        color: var(--color-texto); 
        margin-top: 1rem;
    }

    footer {
        background: var(--color-gris-claro); 
        padding: 1rem; 
        text-align: center; 
        font-size:0.9rem; 
        color: var(--color-texto);
        user-select: none;
    }

    .checkout-modal-overlay {
        position: fixed; 
        top:0; 
        left:0; 
        width:100%; 
        height:100vh; 
        background: rgba(0,0,0,0.5);
        display: none; 
        justify-content:center; 
        align-items:center; 
        z-index:3000;
    }

    .checkout-modal-overlay.open { display: flex; }

    .checkout-modal {
        background: var(--color-blanco); 
        border-radius: 8px; 
        max-width: 500px; 
        width: 90%; 
        padding: 2rem; 
        display: flex; 
        flex-direction: column; 
        align-items: center;
        position: relative;
        max-height: 90vh;
        overflow: auto;
    }

    .checkout-modal h2 {
        margin-bottom: 1rem; 
        font-size: 1.5rem; 
        text-align: center;
        user-select: none;
    }

    .checkout-modal form {
        width: 100%;
    }

    .checkout-modal label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        user-select: none;
    }

    .checkout-modal input, .checkout-modal select, .checkout-modal textarea {
        width: 100%;
        padding: 0.5rem;
        margin-bottom: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 1rem;
        user-select: text;
    }

    .checkout-modal button {
        padding: 0.5rem 1rem; 
        background: var(--color-primario); 
        color: var(--color-texto-claro); 
        border: none; 
        border-radius: 50px; 
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        gap: 0.5rem; 
        transition: background 0.2s ease;
        width: 100%;
        font-size: 1rem;
        user-select: none;
    }

    .checkout-modal button:hover { 
        background: var(--color-hover); 
    }

    .close-checkout-modal {
        position: absolute; 
        top: 1rem; 
        right:1rem; 
        background: none; 
        border:none; 
        font-size:1.5rem; 
        cursor: pointer; 
        color: var(--color-texto);
        user-select: none;
    }

    .close-checkout-modal:hover { 
        color:#666; 
    }

    @media (max-width: 768px) {
        nav { display: none; }
        .logo { font-size:1.2rem; }
        .products { grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); }
    }

    @media (max-width: 480px) {
        .filters { flex-direction: column; }
    }

    /* Sección de Nuestros Clientes */
    .clients-section {
        background: var(--color-blanco);
        padding: 2rem 1rem;
        text-align: center;
        border-top: 1px solid #ccc;
    }

    .clients-section h2 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
        color: var(--color-texto);
    }

    .clients-carousel {
        display: flex;
        overflow-x: auto;
        gap: 1rem;
        padding-bottom: 1rem;
    }

    .client-logo {
        flex: 0 0 auto;
        width: 150px;
        height: 100px;
        display: flex;
        align-items: center;
        justify-content: center;
        border: 1px solid #ddd;
        border-radius: 8px;
        background: var(--color-gris-claro);
        transition: transform 0.3s;
    }

    .client-logo img {
        max-width: 100%;
        max-height: 80%;
        object-fit: contain;
    }

    .client-logo:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    </style>
</head>
<body> 
    <header>
        <div class="header-content container">
            <div class="logo">
                <a href="login.html">
                    <img src="https://i.ibb.co/zrJ3hyY/image-removebg-preview-7.png" alt="Logo de Stereo Importaciones" loading="lazy">
                </a>
            </div>
            <nav>
                <a href="#inicio"><i class="fas fa-home"></i> Inicio</a>
                <a href="#productos"><i class="fas fa-tags"></i> Productos</a>
                <a href="#contacto"><i class="fas fa-envelope"></i> Contacto</a>
            </nav>
            <button class="cart-button" id="cartButton">
                <i class="bi bi-cart3"></i> (<span id="cartCount">0</span>)
            </button>
        </div>
    </header>
    
    <main>
        <section class="banner" id="inicio">
            <div class="banner-image-container">
                <img src="https://www.fexcortes.com/wp-content/uploads/2023/12/estrategias-para-incrementar-ventas-en-navidad.jpg" class="active" alt="Imagen Promocional Navideña" loading="lazy">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/1e/JBL-Logo.svg/1200px-JBL-Logo.svg.png" alt="Logo JBL" loading="lazy">
            </div>
            <h4>Grandes ofertas, pequeños precios</h4>
        </section>

        <section class="filters container" id="productos">
            <input type="text" id="searchInput" placeholder="Buscar productos..." aria-label="Buscar productos">
            <select id="categoryFilter" aria-label="Filtrar por categoría">
                <option value="">Todas las categorías</option>
                <option value="Parlantes">Parlantes</option>
                <option value="Fundas para parlantes">Fundas para parlantes</option>
                <option value="Audífonos">Audífonos</option>
                <option value="Funda para audífonos">Funda para audífonos</option>
                <option value="Almohadillas para audífonos">Almohadillas para audífonos</option>
                <option value="Fundas para Amazon Kindle">Fundas para Amazon Kindle</option>
            </select>
        </section>

        <section class="description-section">
            <p>
                Tienda de aparatos electrónicos, Compras y ventas minoristas, indumentaria y accesorios
            </p>
        </section>

        <section class="location-section">
            <div class="location-info">
                <i class="bi bi-geo-alt-fill"></i>
                <span>Pasaje 20 tienda 08, Blck 43, Av. Jose Galvez 250, La Victoria 15033, Peru</span>
            </div>
        </section>
        <h1 class="container" style="text-align: center; margin-top: 2rem;">Nuestros Productos</h1>
        <section class="products container" id="productsSection">
            <!-- Productos cargados dinámicamente -->
        </section>

        <!-- Sección de Nuestros Clientes -->
        <section class="clients-section">
            <h2>Nuestros Clientes</h2>
            <div class="clients-carousel">
                <div class="client-logo">
                    <img src="https://via.placeholder.com/150x80?text=Cliente+1" alt="Cliente 1" loading="lazy">
                </div>
                <div class="client-logo">
                    <img src="https://via.placeholder.com/150x80?text=Cliente+2" alt="Cliente 2" loading="lazy">
                </div>
                <div class="client-logo">
                    <img src="https://via.placeholder.com/150x80?text=Cliente+3" alt="Cliente 3" loading="lazy">
                </div>
                <div class="client-logo">
                    <img src="https://via.placeholder.com/150x80?text=Cliente+4" alt="Cliente 4" loading="lazy">
                </div>
                <div class="client-logo">
                    <img src="https://via.placeholder.com/150x80?text=Cliente+5" alt="Cliente 5" loading="lazy">
                </div>
                <!-- Añade más logotipos según sea necesario -->
            </div>
        </section>

        <section class="contact-section" id="contacto">
            <h2>Contáctanos</h2>
            <div class="contact-info">
                <a href="https://wa.me/+51931292396" target="_blank" class="icon-circle whatsapp" title="WhatsApp">
                    <i class="bi bi-whatsapp"></i>
                </a>
                <a href="https://www.facebook.com/profile.php?id=100063727397781&mibextid=ZbWKwL" target="_blank" class="icon-circle facebook" title="Facebook">
                    <i class="bi bi-facebook"></i>
                </a>
                <a href="https://www.tiktok.com/@cell_market_sac?_t=8s44MTtNbaY&_r=1" target="_blank" class="icon-circle tiktok" title="TikTok">
                    <i class="bi bi-tiktok"></i>
                </a>
                <a href="https://www.instagram.com/cell_market_sac/" target="_blank" class="icon-circle instagram" title="Instagram">
                    <i class="bi bi-instagram"></i>
                </a>
            </div>
            <p>Correo electrónico: stereo.import@gmail.com</p>
        </section>
    </main>

    <footer>
        <p>© 2024 Stereo Importaciones. Todos los derechos reservados.</p>
    </footer>

    <!-- Toast -->
    <div id="toast" class="toast">Producto agregado al carrito!</div>

    <!-- Modal de Producto -->
    <div class="product-modal-overlay" id="productModalOverlay">
        <div class="product-modal">
            <button class="close-product-modal" id="closeProductModalBtn" aria-label="Cerrar">×</button>
            <img id="modalProductImg" src="" alt="Producto">
            <h2 id="modalProductName"></h2>
            <div class="modal-details" id="modalProductDetails"></div>
            <p class="modal-price" id="modalProductPrice"></p>
            <button id="modalAddToCartBtn"><i class="fas fa-cart-plus"></i> Agregar al carrito</button>
        </div>
    </div>

    <!-- Modal del Carrito -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-modal-header">
            <h2>Carrito</h2>
            <button class="close-cart" id="closeCartBtn" aria-label="Cerrar Carrito">×</button>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-footer">
            <p class="total">Total: $<span id="cartTotal">0.00</span></p>
            <button id="checkoutBtn"><i class="fas fa-credit-card"></i> Comprar</button>
        </div>
    </div>

    <!-- Modal de Finalizar Compra -->
    <div class="checkout-modal-overlay" id="checkoutModalOverlay">
        <div class="checkout-modal">
            <button class="close-checkout-modal" id="closeCheckoutModalBtn" aria-label="Cerrar">×</button>
            <h2><i class="fas fa-shopping-bag"></i> Finalizar Compra</h2>
            <form id="checkoutForm">
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre" required>

                <label for="dni">DNI:</label>
                <input type="text" id="dni" name="dni" required>

                <label for="celular">Celular:</label>
                <input type="tel" id="celular" name="celular" required>

                <label for="direccion">Dirección Completa:</label>
                <textarea id="direccion" name="direccion" rows="3" required></textarea>

                <label for="metodoPago">Método de Pago:</label>
                <select id="metodoPago" name="metodoPago" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Yape">Yape</option>
                    <option value="Plin">Plin</option>
                    <option value="Interbank">Interbank</option>
                    <option value="Link Web">Link Web</option>
                    <option value="Otro">Otro</option>
                </select>

                <label for="agenciaEnvio">Agencia de Envío:</label>
                <select id="agenciaEnvio" name="agenciaEnvio" required>
                    <option value="">Seleccione una opción</option>
                    <option value="Shalom">Shalom</option>
                    <option value="Olva">Olva</option>
                    <option value="Marvisur">Marvisur</option>
                    <option value="Civa">Civa</option>
                    <option value="Cabassa">Cabassa</option>
                    <option value="Cruz del Sur">Cruz del Sur</option>
                    <option value="Flores">Flores</option>
                    <option value="Otro">Otro</option>
                </select>

                <button type="submit"><i class="fas fa-check"></i> Confirmar y Enviar a WhatsApp</button>
            </form>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD5aX2lbcqvhAgG8EsJQf_MPH4tHZ5QH6Y",
            authDomain: "sagitariojbl1.firebaseapp.com",
            projectId: "sagitariojbl1",
            storageBucket: "sagitariojbl1.firebasestorage.app",
            messagingSenderId: "424267774202",
            appId: "1:424267774202:web:0be71a6adeacfe434f3143",
            measurementId: "G-GGHQL53GT3"
        };

        const app = initializeApp(firebaseConfig);
        getAnalytics(app);
        const db = getFirestore(app);

        const productsSection = document.getElementById('productsSection');
        const searchInput = document.getElementById('searchInput');
        const categoryFilter = document.getElementById('categoryFilter');
        const productModalOverlay = document.getElementById('productModalOverlay');
        const modalProductImg = document.getElementById('modalProductImg');
        const modalProductName = document.getElementById('modalProductName');
        const modalProductDetails = document.getElementById('modalProductDetails');
        const modalProductPrice = document.getElementById('modalProductPrice');
        const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
        const closeProductModalBtn = document.getElementById('closeProductModalBtn');
        const cartModal = document.getElementById('cartModal');
        const cartItemsContainer = document.getElementById('cartItems');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const closeCartBtn = document.getElementById('closeCartBtn');
        const cartButton = document.getElementById('cartButton');
        const cartCount = document.getElementById('cartCount');
        const cartTotal = document.getElementById('cartTotal');
        const toast = document.getElementById('toast');

        const checkoutModalOverlay = document.getElementById('checkoutModalOverlay');
        const closeCheckoutModalBtn = document.getElementById('closeCheckoutModalBtn');
        const checkoutForm = document.getElementById('checkoutForm');

        let allProducts = [];
        let currentModalProduct = null;
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        /**
         * Mostrar notificación tipo toast
         * @param {string} message - Mensaje a mostrar
         */
        const showToast = (message) => {
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        };

        /**
         * Guardar el carrito en localStorage y actualizar el contador y el precio total
         */
        const saveCartToLocalStorage = () => {
            localStorage.setItem('cart', JSON.stringify(cart));
            cartCount.textContent = cart.length;
            updateCartTotal(); // Actualizar el total cada vez que se guarda el carrito
        };

        /**
         * Actualizar el monto total en el carrito
         */
        const updateCartTotal = () => {
            const total = cart.reduce((sum, item) => sum + Number(item.price), 0);
            cartTotal.textContent = total.toFixed(2);
        };

        /**
         * Actualizar el DOM del carrito
         */
        const updateCartDOM = () => {
            cartItemsContainer.innerHTML = '';
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = "<p>Tu carrito está vacío.</p>";
            } else {
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" loading="lazy">
                        <div class="cart-item-info">
                            <p><strong>${item.name}</strong></p>
                            <p>$${Number(item.price).toFixed(2)}</p>
                        </div>
                        <button class="remove-item" data-index="${index}" aria-label="Eliminar ${item.name}">×</button>
                    `;
                    cartItemsContainer.appendChild(cartItem);
                });
            }
            cartCount.textContent = cart.length;
            updateCartTotal(); // Actualizar el total cada vez que se actualiza el DOM
        };

        /**
         * Añadir producto al carrito
         * @param {string} name - Nombre del producto
         * @param {number} price - Precio del producto
         * @param {string} image - URL de la imagen del producto
         */
        const addToCart = (name, price, image) => {
            cart.push({ name, price, image });
            saveCartToLocalStorage();
            updateCartDOM();
            showToast("Producto agregado al carrito!");
        };

        /**
         * Remover producto del carrito
         * @param {number} index - Índice del producto en el carrito
         */
        const removeFromCart = (index) => {
            cart.splice(index, 1);
            saveCartToLocalStorage();
            updateCartDOM();
            showToast("Producto removido del carrito!");
        };

        /**
         * Mostrar skeleton loading mientras se cargan los productos
         */
        const showSkeleton = () => {
            productsSection.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const skeletonCard = document.createElement('div');
                skeletonCard.className = 'product skeleton';
                skeletonCard.innerHTML = `
                    <div class="skeleton-image"></div>
                    <div class="skeleton-text"></div>
                    <div class="skeleton-text med"></div>
                    <div class="skeleton-button"></div>
                `;
                productsSection.appendChild(skeletonCard);
            }
        };

        /**
         * Formatear la descripción del producto con HTML
         * @param {string} description - Descripción del producto
         * @returns {string} HTML formateado
         */
        const formatDescription = (description) => {
            if (!description) return '<div>Sin detalles adicionales</div>';

            const boldedDescription = description.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            const lines = boldedDescription.split('\n').map(line => line.trim()).filter(line => line);
            let html = '';
            const listItems = [];

            lines.forEach(line => {
                if (line.startsWith('- ')) {
                    listItems.push(line.slice(2));
                } else {
                    html += `<p>${line}</p>`;
                }
            });

            if (listItems.length > 0) {
                html += '<ul>';
                listItems.forEach(item => {
                    html += `<li>${item}</li>`;
                });
                html += '</ul>';
            }

            return html || '<div>Sin detalles adicionales</div>';
        };

        /**
         * Renderizar los productos en el DOM
         * @param {Array} products - Arreglo de productos a renderizar
         */
        const renderProducts = (products) => {
            productsSection.innerHTML = '';
            if (products.length === 0) {
                productsSection.innerHTML = "<p>No hay productos que coincidan con tu búsqueda.</p>";
                return;
            }

            products.forEach((product) => {
                const { id, image = 'https://via.placeholder.com/150', title, sagitario, description, price, promotionalPrice, category } = product; // Asegúrate de que el campo 'category' exista
                const finalPrice = promotionalPrice && promotionalPrice > 0 ? promotionalPrice : price;
                const hasPromo = promotionalPrice && promotionalPrice > 0;
                const priceHTML = hasPromo
                    ? `<div class="price-container"><span class="original-price">$${Number(price).toFixed(2)}</span><span class="promotional-price">$${Number(promotionalPrice).toFixed(2)}</span></div>`
                    : `<p class="no-promo-price">$${Number(price).toFixed(2)}</p>`;

                const productEl = document.createElement('div');
                productEl.className = 'product';
                productEl.setAttribute('data-id', id); // Asignar data-id único
                productEl.innerHTML = `
                    <img src="${image}" alt="${title}" class="product-img" loading="lazy">
                    <h3>${title}</h3>
                    <div class="details">
                        ${category ? `<div><strong>Categoría:</strong> ${category}</div>` : ''}
                        ${description ? `<div><strong>Descripción:</strong> ${formatDescription(description)}</div>` : ''}
                    </div>
                    ${priceHTML}
                    <button class="add-to-cart-btn" data-name="${title}" data-price="${finalPrice}" data-image="${image}">
                        <i class="fas fa-cart-plus"></i> Agregar
                    </button>
                `;
                productsSection.appendChild(productEl);
            });
        };

        /**
         * Aplicar filtros de búsqueda y categoría
         */
        const applyFilters = () => {
            const searchText = searchInput.value.toLowerCase();
            const selectedCategory = categoryFilter.value.toLowerCase();

            let filteredProducts = allProducts;

            if (searchText) {
                filteredProducts = filteredProducts.filter(product =>
                    (product.title?.toLowerCase().includes(searchText) || product.description?.toLowerCase().includes(searchText))
                );
            }

            if (selectedCategory) {
                filteredProducts = filteredProducts.filter(product => product.category?.toLowerCase() === selectedCategory);
            }

            renderProducts(filteredProducts);
        };

        /**
         * Abrir el modal de producto con los detalles correspondientes
         * @param {Object} product - Producto seleccionado
         */
        const openProductModal = (product) => {
            currentModalProduct = product;
            const { image = 'https://via.placeholder.com/150', title, description, sagitario, price, promotionalPrice } = product;

            modalProductImg.src = image;
            modalProductName.textContent = title;
            modalProductDetails.innerHTML = `
                ${sagitario ? `<p><strong>Marca/Línea:</strong> ${sagitario}</p>` : ''}
                ${formatDescription(description)}
            `;
            modalProductPrice.innerHTML = promotionalPrice && promotionalPrice > 0
                ? `<span class="original-price">$${Number(price).toFixed(2)}</span> <span class="promotional-price">$${Number(promotionalPrice).toFixed(2)}</span>`
                : `$${Number(price).toFixed(2)}`;

            productModalOverlay.classList.add('open');
        };

        /**
         * Cerrar el modal de producto
         */
        const closeProductModal = () => {
            productModalOverlay.classList.remove('open');
        };

        /**
         * Cargar los productos desde Firestore
         */
        const loadProducts = async () => {
            showSkeleton();
            try {
                const querySnapshot = await getDocs(collection(db, 'products'));
                allProducts = querySnapshot.docs.map(docSnap => ({ id: docSnap.id, ...docSnap.data() })); // Incluir 'id'
                applyFilters();
            } catch (error) {
                console.error("Error al cargar productos:", error);
                productsSection.innerHTML = "<p>Error al cargar productos.</p>";
            }
        };

        /**
         * Animación de vuelo hacia el carrito al agregar un producto
         * @param {HTMLElement} imgElement - Imagen del producto
         * @param {string} name - Nombre del producto
         * @param {number} price - Precio del producto
         * @param {string} image - URL de la imagen del producto
         */
        const flyToCart = (imgElement, name, price, image) => {
            const rect = imgElement.getBoundingClientRect();
            const cartRect = cartButton.getBoundingClientRect();
            const flyingImg = imgElement.cloneNode(true);
            flyingImg.className = 'flying-img';
            flyingImg.style.top = `${rect.top}px`;
            flyingImg.style.left = `${rect.left}px`;
            document.body.appendChild(flyingImg);

            requestAnimationFrame(() => {
                flyingImg.style.transform = `translate(${cartRect.left - rect.left}px, ${cartRect.top - rect.top}px) scale(0.1)`;
                flyingImg.style.opacity = '0.5';
            });

            flyingImg.addEventListener('transitionend', () => {
                flyingImg.remove();
                addToCart(name, price, image);
            }, { once: true });
        };

        // Evento al cargar el DOM
        document.addEventListener('DOMContentLoaded', () => {
            updateCartDOM();
            loadProducts();
        });

        // Eventos de filtro
        searchInput.addEventListener('input', applyFilters);
        categoryFilter.addEventListener('change', applyFilters);

        // Eventos del modal de producto
        closeProductModalBtn.addEventListener('click', closeProductModal);
        productModalOverlay.addEventListener('click', (e) => {
            if (e.target === productModalOverlay) closeProductModal();
        });

        modalAddToCartBtn.addEventListener('click', () => {
            if (currentModalProduct) {
                const { title, promotionalPrice, price, image } = currentModalProduct;
                const finalPrice = promotionalPrice && promotionalPrice > 0 ? promotionalPrice : price;
                addToCart(title, Number(finalPrice), image || 'https://via.placeholder.com/150');
                closeProductModal();
            }
        });

        // Eventos del carrito
        cartButton.addEventListener('click', () => cartModal.classList.toggle('open'));
        closeCartBtn.addEventListener('click', () => cartModal.classList.remove('open'));

        cartItemsContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('remove-item')) {
                const index = e.target.getAttribute('data-index');
                removeFromCart(index);
            }
        });

        // Evento de checkout
        checkoutBtn.addEventListener('click', () => {
            if (cart.length === 0) {
                showToast('No hay productos en el carrito.');
                return;
            }
            cartModal.classList.remove('open');
            checkoutModalOverlay.classList.add('open');
        });

        closeCheckoutModalBtn.addEventListener('click', () => {
            checkoutModalOverlay.classList.remove('open');
        });

        // Evento de formulario de checkout
        checkoutForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const nombre = document.getElementById('nombre').value.trim();
            const dni = document.getElementById('dni').value.trim();
            const celular = document.getElementById('celular').value.trim();
            const direccion = document.getElementById('direccion').value.trim();
            const metodoPago = document.getElementById('metodoPago').value;
            const agenciaEnvio = document.getElementById('agenciaEnvio').value;

            if (!metodoPago || !agenciaEnvio) {
                alert('Por favor, selecciona todas las opciones.');
                return;
            }

            let message = `Hola, quiero realizar una compra.%0A%0A*Productos:*%0A`;
            cart.forEach(item => {
                message += `- ${item.name} por $${Number(item.price).toFixed(2)}%0A`;
            });

            message += `%0A*Datos del Cliente:*%0A`;
            message += `Nombre: ${nombre}%0A`;
            message += `DNI: ${dni}%0A`;
            message += `Celular: ${celular}%0A`;
            message += `Dirección: ${direccion}%0A`;
            message += `Método de Pago: ${metodoPago}%0A`;
            message += `Agencia de Envío: ${agenciaEnvio}`;

            const encodedMessage = encodeURIComponent(message);

            window.location.href = `https://wa.me/51938759195?text=${encodedMessage}`;

            cart = [];
            saveCartToLocalStorage();
            updateCartDOM();

            checkoutModalOverlay.classList.remove('open');
            showToast('¡Compra finalizada! Redirigiendo a WhatsApp...');
        });

        /**
         * Evento de click en productos para abrir el modal o agregar al carrito
         */
        productsSection.addEventListener('click', (e) => {
            const productCard = e.target.closest('.product');
            if (!productCard || productCard.classList.contains('skeleton')) return;

            const id = productCard.getAttribute('data-id'); // Obtener el id único
            const product = allProducts.find(p => p.id === id); // Encontrar el producto correcto

            if (e.target.closest('.add-to-cart-btn')) {
                e.stopPropagation(); // Evita que el click abra el modal
                const button = e.target.closest('.add-to-cart-btn');
                const name = button.getAttribute('data-name');
                const price = Number(button.getAttribute('data-price'));
                const image = button.getAttribute('data-image');
                const imgElement = productCard.querySelector('img');
                flyToCart(imgElement, name, price, image);
            } else {
                if (product) {
                    openProductModal(product);
                }
            }
        });

        // Rotación de imágenes en el banner
        const bannerImages = document.querySelectorAll('.banner .banner-image-container img');
        let currentImageIndex = 0;
        setInterval(() => {
            bannerImages[currentImageIndex].classList.remove('active');
            currentImageIndex = (currentImageIndex + 1) % bannerImages.length;
            bannerImages[currentImageIndex].classList.add('active');
        }, 5000);
    </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>
